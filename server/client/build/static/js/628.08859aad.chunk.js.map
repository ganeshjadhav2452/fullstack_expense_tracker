{"version":3,"file":"static/js/628.08859aad.chunk.js","mappings":"6NAqIA,UA3HA,WACE,IAAAA,GAAkCC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMC,IAAI,IAA3DC,EAAYJ,EAAZI,aAAcC,EAAOL,EAAPK,QACdC,GAAmBL,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMK,OAAO,IAAvDD,eAERE,GAA8BC,EAAAA,EAAAA,WAAS,GAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAArCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GACpBI,GAAUC,EAAAA,EAAAA,UAEhBC,GAA8BP,EAAAA,EAAAA,WAAS,GAAMQ,GAAAN,EAAAA,EAAAA,GAAAK,EAAA,GAA7BE,GAAFD,EAAA,GAAYA,EAAA,IAC1BE,GAAkCV,EAAAA,EAAAA,WAAS,GAAMW,GAAAT,EAAAA,EAAAA,GAAAQ,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GACxBG,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAGXC,GAAWZ,EAAAA,EAAAA,UACXa,GAAUb,EAAAA,EAAAA,UAMVc,EAAa,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOC,GAAC,IAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAoB3B,GAnBDL,EAAEM,iBAEFvB,GAAW,GAWTkB,EARGxB,EAQW,CACZ8B,MAAOf,EAASgB,QAAQC,MACxBC,SAAUjB,EAAQe,QAAQC,OATd,CACZF,MAAOf,EAASgB,QAAQC,MACxBC,SAAUjB,EAAQe,QAAQC,MAC1BE,KAAMhC,EAAQ6B,QAAQC,QAYtBhC,EAAQ,CAAD0B,EAAAE,KAAA,QACT,IACElB,GAAa,GACbC,GAASwB,EAAAA,EAAAA,IAAWX,IACpBX,EAAS,cACTH,GAAa,EAIf,CAAE,MAAO0B,GACP1B,GAAa,GACbJ,EAAW8B,GAEXC,QAAQC,IAAIF,EACd,CAACV,EAAAE,KAAA,gBAKoB,OAHrBtB,GAAW,GAAOoB,EAAAC,KAAA,EAGhBjB,GAAa,GAAMgB,EAAAE,KAAA,GACbjB,GAAS4B,EAAAA,EAAAA,IAAWf,IAAa,QACvCd,GAAa,GAAOgB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAc,GAAAd,EAAA,SAIpBhB,GAAa,GACbJ,GAAW,GACX+B,QAAQC,IAAGZ,EAAAc,IAAK,yBAAAd,EAAAe,OAAA,GAAAnB,EAAA,mBAGrB,gBApDkBoB,GAAA,OAAAxB,EAAAyB,MAAA,KAAAC,UAAA,KAiEnB,OATAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,eAAAC,GAAA5B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA2B,IAAA,OAAA5B,EAAAA,EAAAA,KAAAK,MAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAArB,KAAA,EACXjB,GAASuC,EAAAA,EAAAA,OAAyB,KAAD,mBAAAD,EAAAR,OAAA,GAAAO,EAAA,KACxC,kBAFe,OAAAD,EAAAJ,MAAA,KAAAC,UAAA,KAGZO,aAAaC,QAAQ,UACvBN,GAEJ,GAAG,CAACrD,EAASC,KAGX2D,EAAAA,EAAAA,MAAA,OAAAC,SAAA,CACG7C,IAAa8C,EAAAA,EAAAA,KAACC,EAAAA,EAAQ,KACvBH,EAAAA,EAAAA,MAAA,WAASI,UAAW,OAAOH,SAAA,EACzBC,EAAAA,EAAAA,KAAA,MAAAD,SAAKtD,EAAU,QAAU,aACzBqD,EAAAA,EAAAA,MAAA,QAAMK,SAAUzC,EAAcqC,SAAA,EAC5BD,EAAAA,EAAAA,MAAA,OAAKI,UAAW,UAAUH,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SAAOI,QAAQ,QAAOL,SAAC,gBACvBC,EAAAA,EAAAA,KAAA,SAAOK,KAAK,QAAQC,GAAG,QAAQC,IAAK/C,EAAUgD,UAAQ,QAEtD/D,IAAWqD,EAAAA,EAAAA,MAAA,OAAKI,UAAW,UAAUH,SAAA,EACrCC,EAAAA,EAAAA,KAAA,SAAOI,QAAQ,OAAML,SAAC,qBACtBC,EAAAA,EAAAA,KAAA,SAAOK,KAAK,OAAOC,GAAG,OAAOC,IAAK5D,EAAS6D,UAAQ,QAErDV,EAAAA,EAAAA,MAAA,OAAKI,UAAW,UAAUH,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SAAOI,QAAQ,WAAUL,SAAC,mBAC1BC,EAAAA,EAAAA,KAAA,SAAOK,KAAK,WAAWC,GAAG,WAAWC,IAAK9C,EAAS+C,UAAQ,OAG5DtE,IAAW8D,EAAAA,EAAAA,KAAA,KAAGE,UAAU,eAAcH,SAAE7D,IACxCD,IAAgB+D,EAAAA,EAAAA,KAAA,KAAGE,UAAU,cAAaH,SAAE9D,KAC7C6D,EAAAA,EAAAA,MAAA,OAAKI,UAAW,UAAUH,SAAA,EACxBC,EAAAA,EAAAA,KAAA,UAAQK,KAAK,SAAQN,SAAEtD,EAAU,SAAW,aAC5CuD,EAAAA,EAAAA,KAACS,EAAAA,GAAI,CAACC,GAAG,iBAAiBR,UAAW,cAAcH,SAAC,uBACpDC,EAAAA,EAAAA,KAAA,UACEK,KAAK,SACLH,UAAW,SACXS,QAhGkB,WAC5BjE,GAAW,SAACkE,GAAS,OAAMA,CAAS,GACtC,EA8F2Cb,SAE9BtD,EAAU,qBAAuB,2CAOhD,C","sources":["components/auth/AuthPage.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport \"./AuthPage.css\";\r\nimport LoaderEl from \"../UI/Loader/Loader\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signUpUser, signInUser } from \"../../redux/slices/authSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getInitialUserDetails } from \"../../redux/slices/authSlice\";\r\n\r\nfunction AuthPage() {\r\n  const { errorMessage, success } = useSelector((state) => state.auth)\r\n  const { paymentSuccess } = useSelector((state) => state.payment)\r\n\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const nameRef = useRef();\r\n\r\n  const [isError, setIsError] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const dispatch = useDispatch()\r\n  const navigate = useNavigate();\r\n\r\n\r\n  const emailRef = useRef();\r\n  const passRef = useRef();\r\n\r\n  const switchAuthModeHandler = () => {\r\n    setIsLogin((prevState) => !prevState);\r\n  };\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setIsError(false);\r\n\r\n    let userDetails;\r\n    if (!isLogin) {\r\n      userDetails = {\r\n        email: emailRef.current.value,\r\n        password: passRef.current.value,\r\n        name: nameRef.current.value\r\n\r\n      }\r\n    } else {\r\n      userDetails = {\r\n        email: emailRef.current.value,\r\n        password: passRef.current.value,\r\n\r\n\r\n      }\r\n    }\r\n\r\n    if (isLogin) {\r\n      try {\r\n        setIsLoading(true);\r\n        dispatch(signInUser(userDetails))\r\n        navigate('/dashboard')\r\n        setIsLoading(false);\r\n\r\n\r\n\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setIsError(err);\r\n\r\n        console.log(err)\r\n      }\r\n    } else {\r\n      setIsError(false);\r\n\r\n      try {\r\n        setIsLoading(true);\r\n        await dispatch(signUpUser(userDetails))\r\n        setIsLoading(false);\r\n\r\n\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setIsError(true);\r\n        console.log(err)\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const getDetails = async () => {\r\n      await dispatch(getInitialUserDetails());\r\n    };\r\n    if (localStorage.getItem(\"token\")) {\r\n      getDetails();\r\n    }\r\n  }, [success, paymentSuccess]);\r\n\r\n  return (\r\n    <div>\r\n      {isLoading && <LoaderEl />}\r\n      <section className={\"auth\"}>\r\n        <h1>{isLogin ? \"Login\" : \"Sign Up\"}</h1>\r\n        <form onSubmit={submitHandler}>\r\n          <div className={\"control\"}>\r\n            <label htmlFor=\"email\">Your Email</label>\r\n            <input type=\"email\" id=\"email\" ref={emailRef} required />\r\n          </div>\r\n          {!isLogin && <div className={\"control\"}>\r\n            <label htmlFor=\"name\">Enter Your Name</label>\r\n            <input type=\"text\" id=\"name\" ref={nameRef} required />\r\n          </div>}\r\n          <div className={\"control\"}>\r\n            <label htmlFor=\"password\">Your Password</label>\r\n            <input type=\"password\" id=\"password\" ref={passRef} required />\r\n          </div>\r\n\r\n          {success && <p className=\"text-success\">{success}</p>}\r\n          {errorMessage && <p className=\"text-danger\">{errorMessage}</p>}\r\n          <div className={\"actions\"}>\r\n            <button type=\"submit\">{isLogin ? \"Log In\" : \"Sign Up\"}</button>\r\n            <Link to='/resetpassword' className={\"toggle mb-0\"}>forgot password ?</Link>\r\n            <button\r\n              type=\"button\"\r\n              className={\"toggle\"}\r\n              onClick={switchAuthModeHandler}\r\n            >\r\n              {isLogin ? \"Create new account\" : \"Login with existing account\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthPage;\r\n"],"names":["_useSelector","useSelector","state","auth","errorMessage","success","paymentSuccess","payment","_useState","useState","_useState2","_slicedToArray","isLogin","setIsLogin","nameRef","useRef","_useState3","_useState4","setIsError","_useState5","_useState6","isLoading","setIsLoading","dispatch","useDispatch","navigate","useNavigate","emailRef","passRef","submitHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","userDetails","wrap","_context","prev","next","preventDefault","email","current","value","password","name","signInUser","err","console","log","signUpUser","t0","stop","_x","apply","arguments","useEffect","getDetails","_ref2","_callee2","_context2","getInitialUserDetails","localStorage","getItem","_jsxs","children","_jsx","LoaderEl","className","onSubmit","htmlFor","type","id","ref","required","Link","to","onClick","prevState"],"sourceRoot":""}