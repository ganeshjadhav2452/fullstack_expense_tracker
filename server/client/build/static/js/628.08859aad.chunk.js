"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[628],{3628:function(e,t,r){r.r(t);var n=r(4165),s=r(5861),a=r(9439),c=r(2791),u=(r(7993),r(2617)),i=r(7689),o=r(1087),l=r(1317),d=r(3855),p=r(184);t.default=function(){var e=(0,d.v9)((function(e){return e.auth})),t=e.errorMessage,r=e.success,f=(0,d.v9)((function(e){return e.payment})).paymentSuccess,h=(0,c.useState)(!0),m=(0,a.Z)(h,2),x=m[0],v=m[1],j=(0,c.useRef)(),g=(0,c.useState)(!1),w=(0,a.Z)(g,2),b=(w[0],w[1]),k=(0,c.useState)(!1),y=(0,a.Z)(k,2),N=y[0],Z=y[1],S=(0,d.I0)(),C=(0,i.s0)(),q=(0,c.useRef)(),E=(0,c.useRef)(),F=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b(!1),r=x?{email:q.current.value,password:E.current.value}:{email:q.current.value,password:E.current.value,name:j.current.value},!x){e.next=7;break}try{Z(!0),S((0,l.w2)(r)),C("/dashboard"),Z(!1)}catch(n){Z(!1),b(n),console.log(n)}e.next=20;break;case 7:return b(!1),e.prev=8,Z(!0),e.next=12,S((0,l.SA)(r));case 12:Z(!1),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(8),Z(!1),b(!0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((0,l.Pm)());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();localStorage.getItem("token")&&e()}),[r,f]),(0,p.jsxs)("div",{children:[N&&(0,p.jsx)(u.Z,{}),(0,p.jsxs)("section",{className:"auth",children:[(0,p.jsx)("h1",{children:x?"Login":"Sign Up"}),(0,p.jsxs)("form",{onSubmit:F,children:[(0,p.jsxs)("div",{className:"control",children:[(0,p.jsx)("label",{htmlFor:"email",children:"Your Email"}),(0,p.jsx)("input",{type:"email",id:"email",ref:q,required:!0})]}),!x&&(0,p.jsxs)("div",{className:"control",children:[(0,p.jsx)("label",{htmlFor:"name",children:"Enter Your Name"}),(0,p.jsx)("input",{type:"text",id:"name",ref:j,required:!0})]}),(0,p.jsxs)("div",{className:"control",children:[(0,p.jsx)("label",{htmlFor:"password",children:"Your Password"}),(0,p.jsx)("input",{type:"password",id:"password",ref:E,required:!0})]}),r&&(0,p.jsx)("p",{className:"text-success",children:r}),t&&(0,p.jsx)("p",{className:"text-danger",children:t}),(0,p.jsxs)("div",{className:"actions",children:[(0,p.jsx)("button",{type:"submit",children:x?"Log In":"Sign Up"}),(0,p.jsx)(o.rU,{to:"/resetpassword",className:"toggle mb-0",children:"forgot password ?"}),(0,p.jsx)("button",{type:"button",className:"toggle",onClick:function(){v((function(e){return!e}))},children:x?"Create new account":"Login with existing account"})]})]})]})]})}},7993:function(){}}]);
//# sourceMappingURL=628.08859aad.chunk.js.map